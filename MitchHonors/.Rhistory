getwd()
setwd("C:/Users/u1010240/Desktop/Studies/MitchHonors")
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors")
list.dirs
list.dirs()
install.packages("devtools")
install.packages("ggplot2")
install.packages("tidyr")
install.packages("modelr")
install.packages("rmarkdown")
getwd()
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors")
files <- list.files(path="data", pattern="*.csv", full.names=T, recursive=FALSE)
files
class(files)
names(files)
length(files)
subids <- grep("[:digit:]")
subids <- grep("[:digit:]", files)
subids
subids <- regmatches(files, regexpr("[0-9].*[0-9]", files))
subids
subids <- regmatches(files, regexpr("[:digit:]", files))
subids
subids <- regmatches(files, regexpr("\\d*", files))
subids
subids <- regmatches(files, regexpr("\\d", files))
subids
subids <- regmatches(files, regexpr("\\d[a-z]?", files))
subids
condition <- regmatches(subids, regexpr("[a-z]?", subids))
condition
condition <- regmatches(subids, regexpr(".", subids))
condition
subids
condition <- regmatches(subids, regexpr("[:alpha:]", subids))
subids
condition
condition <- regmatches(subids, regexpr("[gmpw]?", subids))
condition <- regmatches(subids, regexpr("[gmpw]", subids))
condition <- regmatches(subids, regexpr("[g?m?p?w?]", subids))
condition
subids <- regmatches(files, regexpr("\\d[a-z]?", files))
condition <- regmatches(subids, regexpr("[g?m?p?w?]", subids))
subids
length(subids)
index <- which(files == x)
getwd()
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
out <- function(t) {
#add columns with subid and condition
t %>%
mutate(subid <- regmatches(files, regexpr("\\d", files)))
}
# write to file
write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
out <- t %>%
mutate(subid <- regmatches(files, regexpr("\\d", files)))
# write to file
write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
library(dplyr)
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
out <- t %>%
mutate(subid <- regmatches(files, regexpr("\\d", files)))
# write to file
write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
# out <- t %>%
#     mutate(subid <- regmatches(files, regexpr("\\d", files)))
# write to file
write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
# out <- t %>%
#     mutate(subid <- regmatches(files, regexpr("\\d", files)))
print index
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
index <- which(files == input)
# apply function
# out <- t %>%
#     mutate(subid <- regmatches(files, regexpr("\\d", files)))
print(index)
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
#index <- which(files == input)
# apply function
# out <- t %>%
#     mutate(subid <- regmatches(files, regexpr("\\d", files)))
print(t)
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
#index <- which(files == input)
# apply function
t %>%
mutate(subid <- regmatches(files, regexpr("\\d", files)))
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
#index <- which(files == input)
# apply function
t %>%
mutate(subid <- regmatches(files[i], regexpr("\\d", files[i])))
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input,i) {
t <- read.table(input, header=T) # load file
#Store the index
#index <- which(files == input)
# apply function
t %>%
mutate(subid <- regmatches(files[i], regexpr("\\d", files[i])))
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
lapply(files, function(input) {
t <- read.table(input, header=T) # load file
#Store the index
#index <- which(files == input)
# apply function
t %>%
mutate(subid <- files[1])
print(t)
# write to file
#write.table(out, "data/clean", sep="\t", quote=F, row.names=F, col.names=T)
})
do.call("rbind", lapply(files, read.csv, head = TRUE))
subids <- regmatches(files, regexpr("\\d[a-z]?", files))
subids
fiiles
files
class(files)
for(i in files) {
i
}
multmerge = function(mypath){
filenames=list.files(path=mypath, full.names=TRUE)
datalist = lapply(filenames, function(x){read.csv(file=x,header=T)})
Reduce(function(x,y) {merge(x,y)}, datalist)
}
for(i in files) {
i
}
for(i in files) {
print(i)
}
getwd()
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors/data")
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors")
for(i in files) {
read.csv(i)
}
data <-
read.csv(files[1])
data <-
input <- read.csv(files[1])
input
data <- read.csv(files[1])
for(i in files) {
something <- read.csv(i)
rbind(data, something)
}
for(i in files) {
something <- read.csv(i)
write.csv(something, file = "cleancombine",append = TRUE)
}
warnings()
multmerge = function(mypath){
filenames=list.files(path=mypath, full.names=TRUE)
datalist = lapply(filenames, function(x){read.csv(file=x,header=T)})
Reduce(function(x,y) {merge(x,y)}, datalist)
}
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors")
combined <- multmerge("data")
combined <- multmerge("data")
combined
(mfrow = c(1,1))
(mfrow = c(1,1))
rm(list=ls()); par(mfrow = c(1,1))
getwd()
library(dplyr)
setwd("C:/Users/u1010240/Desktop/Studies/R_data/MitchHonors")
files <- list.files(path="data", pattern="*.csv", full.names=T, recursive=FALSE)
multmerge = function(mypath){
filenames=list.files(path=mypath, full.names=TRUE)
datalist = lapply(filenames, function(x){read.csv(file=x,header=T)})
Reduce(function(x,y) {merge(x,y)}, datalist)
}
combined <- multmerge("data")
actLabels <- read.table('./UCIdata/UCI HAR Dataset/activity_labels.txt')
combined
datalist = lapply(filenames, function(x){read.csv(file=x,header=T)})
datalist = lapply(files, function(x){read.csv(file=x,header=T)})
datalist
class(datalist)
datalist$sub
datalist[1]
length(datalist[1])
combined <- lapply(datalist, function(x,y) {
merge(x,y)
})
combined <- lapply(datalist, function(x) {
merge(x,y)
})
combined <- Reduce(function(x,y) {
merge(x,y)
}, datalist)
combined
datalist[1:2]
summary(datalist[1:2])
names(datalist[1:2])
colnames(datalist[1:2])
combined <- do.call(function(x) {
rbind(datalist)
})
combined <- do.call(rbind(datalist))
combined <- do.call(rbind, datalist)
summary(combined)
dim(combined)
combined$sub
summary(combined)
levels(combined$sub)
View(combined)
